Description: Preliminary support for multiarch builds.
Author: Alessio Treglia <alessio@debian.org>
Forwarded: yes
---
 deploy/dataquay.pc.in |    2 +-
 lib.pro               |    9 ++++++---
 2 files changed, 7 insertions(+), 4 deletions(-)

--- dataquay.orig/deploy/dataquay.pc.in
+++ dataquay/deploy/dataquay.pc.in
@@ -1,6 +1,6 @@
 prefix=%PREFIX%
+libdir=%LIBDIR%
 exec_prefix=${prefix}
-libdir=${exec_prefix}/lib
 includedir=${prefix}/include
 
 Name: dataquay
--- dataquay.orig/lib.pro
+++ dataquay/lib.pro
@@ -66,12 +66,15 @@ linux* {
 	isEmpty(PREFIX) {
 		PREFIX = /usr/local
 	}
-        target.path = $${PREFIX}/lib
+	isEmpty(LIBDIR) {
+		LIBDIR = /usr/lib
+	}
+        target.path = $${LIBDIR}
         includes.path = $${PREFIX}/include
         includes.files = dataquay
-        pkgconfig.path = $${PREFIX}/lib/pkgconfig
+        pkgconfig.path = $${LIBDIR}/pkgconfig
         pkgconfig.files = deploy/dataquay.pc
-        pkgconfig.extra = sed -e "'"s.%PREFIX%.$${PREFIX}."'" -e "'"s.%EXTRALIBS%.$${EXTRALIBS}."'" deploy/dataquay.pc.in > deploy/dataquay.pc
+        pkgconfig.extra = sed -e "'"s.%PREFIX%.$${PREFIX}."'" -e "'"s.%LIBDIR%.$${LIBDIR}."'" -e "'"s.%EXTRALIBS%.$${EXTRALIBS}."'" deploy/dataquay.pc.in > deploy/dataquay.pc
         INSTALLS += target includes pkgconfig
 }
 
