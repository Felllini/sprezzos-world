Description: adjust to openssl 1.0.0
Origin: upstream bugtracker:
Bug: https://rt.cpan.org/Public/Bug/Display.html?id=70565
Bug-Debian: http://bugs.debian.org/623253
Author: MSCHOUT [...] cpan.org
Reviewed-by: gregor herrmann <gregoa@debian.org>
Last-Update: 2012-01-02

diff --git a/SSLeay.xs b/SSLeay.xs
index 9df9f58..8c26155 100644
--- a/SSLeay.xs
+++ b/SSLeay.xs
@@ -129,9 +129,15 @@ SSL_CTX_new(packname, ssl_version)
             ctx = SSL_CTX_new(SSLv3_client_method());
         }
         else {
+#ifndef OPENSSL_NO_SSL2
             /* v2 is the default */
             ctx = SSL_CTX_new(SSLv2_client_method());
+#else
+            /* v3 is the default */
+            ctx = SSL_CTX_new(SSLv3_client_method());
+#endif
         }                
+
         SSL_CTX_set_options(ctx,SSL_OP_ALL|0);
         SSL_CTX_set_default_verify_paths(ctx);
         SSL_CTX_set_verify(ctx, SSL_VERIFY_NONE, NULL);
