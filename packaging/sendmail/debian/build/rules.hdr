#!/usr/bin/make -f
#------------------------------------------------------------------------------
# vim: syntax=make
#
# $Sendmail: rules,v @sm_version@ @sm_date@ @sm_time@ cowboy Exp $
#
# Copyright (c) 1998-@SM_CPYRT@ Richard Nelson.  All Rights Reserved.
#
# @configure_input@
#
# Rules file for Sendmail @sm_version@@sm_revision@(@sm_version_math@)
#			 on  @sm_dist_name@ @sm_dist_vers@
#			 via Debhelper V@DEBIAN_DH@
#
# Note: the .in file supports Sendmail @SM_MINVERS@ - @SM_MAXVERS@
#		on Debian slink, potato, woody, testing, sid, ...
#		but the generated file is customized to the version noted above.
#
# The only thing to watch for is to make sure the changelog correctly
# reflects the appropriate version and distribution!
#
# To support private builds:
#	1) use the environment variables (defaults shown first):
#			CC=gcc|gcc-3.0..........-- choose compiler
#			CFLAGS='-O2 -Wall [-g]'.-- choose compile options
#			DEFINES=''..............-- additional -Dxxx
#			SM_CONF_OPT=''..........-- additional configure options
#			SM_BUILD_OPT=''.........-- additional build options
#	2) Build the package using your normal setup:
#		A) [fakeroot] debian/rules binary
#		B) debuild -rfakeroot
#		C) dpkg-buildpackage -rfakeroot -uc -us
#
# DEB_BUILD_OPTIONS (global Debian package build options)
#	Debian specific, and common across package options
#		noopt	- Do *NOT* compile with optimization (force -O0)
#		nostrip - Do *NOT* strip binaries (for debugging)
#		
#
# SM_CONF_OPT
#	Additional configure options and/or overrides may be specified thusly:
#		1) export SM_CONF_OPT='--enable-shm=no'
#		   dpkg-buildpackage -rfakeroot -uc -us
#		2) SM_CONF_OPT='--enable-shm=no' dpkg-buildpackage
#		3) debuild -e SM_CONF_OPT='--enable-shm=no'
#		etc...
#
# SM_BUILD_OPT
#	1) export SM_BUILD_OPT='notls'
#	   dpkg-buildpackage -rfakeroot -uc -us
#	2) SM_BUILD_OPT='notls' dpkg-buildpackage -rfakeroot -uc -us
#	3) debuild -e SM_BUILD_OPT='notls' -e CLFAGS='-O3 Wall'
#	etc...
#
#	Supported options values for SM_BUILD_OPT:
#		notls		Disable STARTTLS (OpenSSL) support
#		noauth		Disable SMTP AUTH (sasl) support
#		nodev		Disable generation of libmilter-dev package
#		nodoc		Disable generation of sendmail-doc package
#
# This make file uses scripts from the DBS (0.8) package!
#
# Richard Nelson <cowboy@debian.org> @sm_date@ @sm_time@ (@sm_utc@)
#------------------------------------------------------------------------------
