Index: osgearth-2.0/CMakeModules/OsgEarthMacroUtils.cmake
===================================================================
--- osgearth-2.0.orig/CMakeModules/OsgEarthMacroUtils.cmake	2011-07-12 20:48:49.782589187 +0200
+++ osgearth-2.0/CMakeModules/OsgEarthMacroUtils.cmake	2011-07-12 20:49:32.802589207 +0200
@@ -49,12 +49,12 @@
     SET(OPENSCENEGRAPH_PATCH_VERSION "" CACHE STRING "OpenSceneGraph patch version number")
     SET(OPENSCENEGRAPH_SOVERSION "" CACHE STRING "OpenSceneGraph so version number")
 	
-	if (OPENSCENEGRAPH_MAJOR_VERSION AND OPENSCENEGRAPH_MINOR_VERSION AND OPENSCENEGRAPH_PATCH_VERSION)
+	if (OPENSCENEGRAPH_MAJOR_VERSION AND NOT OPENSCENEGRAPH_MINOR_VERSION STREQUAL "" AND NOT OPENSCENEGRAPH_PATCH_VERSION STREQUAL "")
 	  SET(OPENSCENEGRAPH_VERSION ${OPENSCENEGRAPH_MAJOR_VERSION}.${OPENSCENEGRAPH_MINOR_VERSION}.${OPENSCENEGRAPH_PATCH_VERSION})
-	else (OPENSCENEGRAPH_MAJOR_VERSION AND OPENSCENEGRAPH_MINOR_VERSION AND OPENSCENEGRAPH_PATCH_VERSION)
+	else (OPENSCENEGRAPH_MAJOR_VERSION AND NOT OPENSCENEGRAPH_MINOR_VERSION STREQUAL "" AND NOT OPENSCENEGRAPH_PATCH_VERSION STREQUAL "")
 	  #MESSAGE("osgversion was found at ${OSG_VERSION_EXE} but failed to run")
 	  SET(OPENSCENEGRAPH_VERSION)
-	endif (OPENSCENEGRAPH_MAJOR_VERSION AND OPENSCENEGRAPH_MINOR_VERSION AND OPENSCENEGRAPH_PATCH_VERSION)
+	endif (OPENSCENEGRAPH_MAJOR_VERSION AND NOT OPENSCENEGRAPH_MINOR_VERSION STREQUAL "" AND NOT OPENSCENEGRAPH_PATCH_VERSION STREQUAL "")
 	
 	MARK_AS_ADVANCED(OPENSCENEGRAPH_VERSION)
 
