aptdaemon (0.45-SprezzOS2) unstable; urgency=low

  * SprezzOS build
  * Kill python-aptdaemon.gtk3widgets dep on gir1.2-vte-2.90

 -- Nick Black <nick.black@sprezzatech.com>  Sun, 09 Dec 2012 06:12:31 -0500

aptdaemon (0.45-1) unstable; urgency=low

  * New upstream releases bringing a lot of bug fixes and improvements
  * debian/control:
    - Remove use of X(B|S)-Python-Version
    - python-aptdaemon.pkcompat now provides packagekit-system-interface
      which helps to avoid ugly or dependencies in PackageKit clients
    - Don't use the shlibs depends since we don't have got any libraries
  * debian/aptdaemon.install:
    - Don't ship the aptdaemon.desktop file which was used in the apport
      reports

 -- Sebastian Heinlein (Devel) <devel@glatzor.de>  Mon, 11 Jun 2012 11:07:08 +0200

aptdaemon (0.43+bzr790-1) unstable; urgency=high

  * New upstream snapshot
  * fixes CVE-2012-0944

 -- Michael Vogt <mvo@debian.org>  Mon, 02 Apr 2012 20:57:57 +0200

aptdaemon (0.43+bzr769-1) unstable; urgency=low

  * New upstream snapshot
    - Works without pkcompat (Closes: #652644)
  * Merge with Ubuntu; remaining changes:
    - debian/control: Changes of Vcs, Maintainer stuff
    - Do not use dh-translations

 -- Julian Andres Klode <jak@debian.org>  Mon, 05 Mar 2012 16:03:14 +0100

aptdaemon (0.43+bzr769-0ubuntu1) precise; urgency=low

  * New upstream snapshot:
    - Add plugin support to PackageKit compat layer.
    - Port to gobject-introspection.
    - Various bug fixes.
  * debian/control: Update dependencies for GI.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 03 Feb 2012 06:37:42 +0100

aptdaemon (0.43+bzr756-0ubuntu1) precise; urgency=low

  [ Chris Coulson ]
  * After simulating a transaction, correctly disconnect from the 
    "transaction-simulated" signal
  
  [ Sebastian Heinlein ]
  * Catch exceptions in apt.debfile.DebFile.check()

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 03 Jan 2012 13:30:22 +0100

aptdaemon (0.43+bzr754-0ubuntu1) precise; urgency=low

  [ Martin Pitt ]
  * debian/control: debian/control: Move from transitional python-gobject to
    python-gi for GTK3 package.
  
  [ Michael Vogt ]
  * New bzr snapshot
  
  [ Robert Roth ]
  * Fix license typo (LP: #903911)
  * Change from up-to-date to up to date for consistency (LP: #864336)
  
  [ Sebastian Heinlein ]
  - Fix downgrade option of aptdcon
  - Add support for cancelling the transaction in PK
  - Fix changelog cache cleanup
  - Typo fixes

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 15 Dec 2011 10:15:46 +0100

aptdaemon (0.43+bzr742-0ubuntu1) precise; urgency=low

  * New bzr snapshot:
    - Fix resizing the GTK3 progress dialog (LP: #840942)
    - py3 exception compat fixes
    - fixes in pkcompat code
    - merged "pretty repo" branch with nicer progress information on
      cache updates
    - cache changelogs

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 01 Dec 2011 14:40:52 +0100

aptdaemon (0.43+bzr715-0) UNRELEASED; urgency=low

  * new bzr snapshot:
    - Add a small README about the state of the PackageKit compatibilty
    - Add support for the store_in_cache argument of PackageKit's
      DownloadPackages
    - Do an additional resolver run to ensure that autoremove does
      not leave the cache inconsistent 
  * debian/patches:
    - Remove 01_add_dpkg_untranslated_messages_env.patch (merged by upstream)
    - Remove 03_additional_resolve_run.patch (merged upstream)
  * debian/python-aptdaemon.pkcompat.docs: Ship README
  * debian/README.Debian: Removed since obsolete

 -- Sebastian Heinlein <devel@glatzor.de>  Mon, 21 Nov 2011 12:04:11 +0100

aptdaemon (0.43+bzr713-1) unstable; urgency=low

  * Merge with Ubuntu, remaining differences:
    - debian/control: Changes of Vcs, Maintainer stuff
    - Do not use dh-translations
  * New upstream snapshot (revision 713)

 -- Julian Andres Klode <jak@debian.org>  Mon, 21 Nov 2011 11:24:00 +0100

aptdaemon (0.43+bzr712-0ubuntu1) precise; urgency=low

  [ Michael Vogt ]
  * Merged from the latest debian upload
    (thanks Julian Andres Klode)
  
  [ Sebastian Heinlein ]
  * new bzr snapshot with:
    - pkcompat branch
    - async simulate
  * add new python-aptdaemon.pkgcompat package that provides the
    packagekit system API

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 21 Nov 2011 10:08:24 +0100

aptdaemon (0.43+bzr707-1) unstable; urgency=low

  [ Julian Andres Klode ]
  * Merge with Ubuntu, remaining differences:
    - debian/control: Vcs, Maintainer changes.
  * Merge brings us:
    - New version (Closes: #644613)
    - Use of python2 instead of python-central (Closes: #616738)
  * Do not use dh-translations

  [ Sebastian Heinlein ]
  * New bzr snapshot:
    - Add the PackageKit compatibilty layer
  * debian/control:
    - Add new binary package python-aptdaemon.pkcompat
    - Correct VCS location
  * debian/python-aptdaemon:
    - Ship the networking module

 -- Julian Andres Klode <jak@debian.org>  Sun, 20 Nov 2011 14:49:48 +0100

aptdaemon (0.43+bzr703-0ubuntu1) precise; urgency=low

  * New bzr snapshot:
    - Merge the AddLicenseKey method
    - Replace the backported unittest2 framework by the native one of
      Python 2.7 and Nose to collect the tests

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 18 Nov 2011 12:03:22 +0100

aptdaemon (0.43+bzr701-0ubuntu1) precise; urgency=low

  * new bzr snapshot:
    - aptdaemon/progress.py: fix crash when a translation has the wrong 
      number of %s (LP: #858684)
    - Map messages from apt on the status-fd to enums to provide better 
      terms and translations in the future - fixes LP#641262
    - lp:~mpt/aptdaemon/bug-635138:
      * Fixes bug 635138 (Apt cache repair 'In Progress' text is 
        'Repairing broken deps').
  * debian/patches/02_fix_crash_on_dpkg_disappear.patch:
    - dropped, we are out of stringfreeze now

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 14 Nov 2011 09:26:01 +0100

aptdaemon (0.43+bzr697-0ubuntu1) oneiric; urgency=low

  * debian/patches/03_additional_resolve_run.patch:
    - do an additional resolver run to ensure that autoremove does
      not leave the cache inconsistent (LP: #659111)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 28 Sep 2011 13:36:53 +0200

aptdaemon (0.43+bzr697) oneiric; urgency=low

  * New bzr bugfix version:
    - Don't block on lintian calls to avoid time outs on the DBus 
      by making use of the excellent preexec_fn of subprocess
      (LP: #812023)
    - pyflakes based import fixes, this fixes a unneeded glib import
      that can cause crashes with gtk2/gtk3 (pygtk/pygi)
    - use the deprecated message attribute to avoid encoding errors
      (LP: #846044)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 19 Sep 2011 14:01:15 +0200

aptdaemon (0.43+bzr695) oneiric; urgency=low

  * New bzr snapshot:
    - Don't track valid DBusException sent to the client by apport
    - Make TransactionProgressDialog.run() method deferable
    - Unset the apt-listbugs frontend in non-interactive mode
    - Workaround a bug in apt's ListUpdate which doesn't handle 
      cancellation properly
  * debian/changelog: Fix a typo in the previous log entry

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 14 Sep 2011 15:48:01 +0200

aptdaemon (0.43+bzr691) oneiric; urgency=low

  * New bzr snapshot:
    - Fix integer overflows in the ProgressDetails property (LP: #827677,
      LP: #834104) by switching to dbus.Double and dbus.Int64
    - Fix apport crash reports on dpkg failure (LP: #799982)

 -- Sebastian Heinlein <devel@glatzor.de>  Fri, 26 Aug 2011 15:22:19 +0200

aptdaemon (0.43+bzr686) oneiric; urgency=low

  * New bzr snapshot:
    - Improve apport integration by adding a package hook and only sending
      reports if running as a system service
    - Fix default values for ProgressDetails signal
    - Fixes to the test suite
    - More debugging output to help resolve DBus type conversion/overflow
      errors
  * debian/aptdaemon.install:
    - Ship apport package hook
    - Ship desktop file to provide a nicer name in apport dialogs
  * debian/control:
    - Add missing dependency on python-pkg-resources to python-aptdaemon
      (LP: #788121)

 -- Sebastian Heinlein <devel@glatzor.de>  Fri, 26 Aug 2011 08:13:42 +0200

aptdaemon (0.43+bzr676-0ubuntu1) oneiric; urgency=low

  * new bzr snapshot:
    - Make the handling of exceptions in the forked child process
      more robust
    - Fix showing the header of the translation (.mo file) 
      if we try to translate an empty string

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 25 Aug 2011 10:30:13 +0200

aptdaemon (0.43+bzr674-0ubuntu1) oneiric; urgency=low

  * new bzr snapshot:
    - add /var/log/apt/history.log integration
    - switch bytes_{done,total} to 64bit to follow a change in apt 
      (LP: #825468)
    - fix multiarch names (LP: #828898, LP: #828162)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 23 Aug 2011 11:29:50 +0200

aptdaemon (0.43+bzr670-0ubuntu1) oneiric; urgency=low

  * New bzr snapshot: Fix previous patch to only use GObject when actually
    using GI.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 17 Aug 2011 13:58:17 +0200

aptdaemon (0.43+bzr669-0ubuntu1) oneiric; urgency=low

  * New bzr snapshot: Move from static gobject to GI GObject module, to be
    compatible to upcoming pygobject 3.0.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 17 Aug 2011 08:11:43 +0200

aptdaemon (0.43+bzr666-0ubuntu1) oneiric; urgency=low

  * new bzr snapshot:
    - fix LP: #818521
    - prepare for py3
    - fix crash in _parse_localename() (LP: #825056)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 12 Aug 2011 11:13:32 +0200

aptdaemon (0.43+bzr663-0ubuntu1) oneiric; urgency=low

  * New bzr snapshot add adds a RebootRequiered property

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 28 Jul 2011 16:44:12 +0200

aptdaemon (0.43+bzr662-0ubuntu1) oneiric; urgency=low

  * New bzr snapshot
  * debian/patches/01_add_dpkg_untranslated_messages_env.patch:
    - add DPKG_UNTRANSLATED_MESSAGES environment in the child
      to force untranslated dpkg messages for easier bug duplication
      detection

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 28 Jun 2011 10:01:10 +0100

aptdaemon (0.43+bzr660-0ubuntu1) oneiric; urgency=low

  * New bzr snapshot, this will improve the quality of the 
    apport pkgfailure reports

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 10 Jun 2011 11:34:50 +0200

aptdaemon (0.41+bzr658-0ubuntu2) oneiric; urgency=low

  * debian/control: Drop GTK2 GIR dependencies, only use GTK 3 now.
  * debian/control: Drop lintian recommends. It's too heavy for a default
    install (pulling in dpkg-dev, build-essential, g++, lots of Perl, and
    associated helper tools like diffstat). This will be replaced with
    aptdaemon or software-center installing lintian when you add a third-party
    repository. (UbuntuSpec:desktop-o-cdspace)
  * debian/control: Fix "allows to" grammar error, thanks lintian.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 31 May 2011 10:54:29 +0200

aptdaemon (0.41+bzr658-0ubuntu1) oneiric; urgency=low

  * New bzr snapshot, this fixes (LP: #781874)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 16 May 2011 11:48:39 +0200

aptdaemon (0.41+bzr657-0ubuntu1.1) natty-proposed; urgency=low

  * patches/fix_lp_781874.patch:
    - fix bug when canceling a transaction (LP: #781874)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 16 May 2011 11:39:08 +0200

aptdaemon (0.41+bzr657-0ubuntu1) natty-proposed; urgency=low

  * New bzr bugfix snapshot:
    - fix FD leak (LP: #742935)
    - fix interrupts in a forked child
    - fix crash when dbus exceptions have unicode messages (LP: #761386)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 28 Apr 2011 17:55:29 +0200

aptdaemon (0.41+bzr651-0ubuntu1) natty; urgency=low

  * New bzr bugfix snapshot:
    - ensure dbus exceptions strings are utf8
    - merge 01_fix_locking.patch upstream
    - merge 03_do_not_close_invalid_fd.patch upstream
  * debian/patches/02_fix_crash_on_dpkg_disappear.patch:
    - refreshed

 -- Michael Vogt <mvo@ubuntu.com>  Tue, 19 Apr 2011 08:52:09 +0200

aptdaemon (0.41+bzr646-0ubuntu2) natty; urgency=low

  * debian/patches/01_fix_locking.patch: 
    - cherry pick from evfool, many thanks (LP: #764422)
  * debian/patches/02_fix_crash_on_dpkg_disappear.patch:
    - add (empty) mapping the apt progress message that is triggered
      when a empty package disappears 

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 18 Apr 2011 13:48:38 +0200

aptdaemon (0.41+bzr646-0ubuntu1) natty; urgency=low

  * New bzr bugfix snapshot:
    - fix crash in wait_for_lock (LP: #763642)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 18 Apr 2011 09:25:51 +0200

aptdaemon (0.41+bzr645-0ubuntu1) natty; urgency=low

  * New bzr bugfix snapshot:
    - fix state of queue transactions (LP: #702442)
    - unify cache open (LP: #694505)
    - relax lintian check on libc (for lsb)
    - catch overflow errors (LP: #758837)
  * debian/lintian-{fatal,nonfatal}.tag.Ubuntu:
    - rename from "tag" to "tags" so that they actually get applied
      (LP: #712377)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 15 Apr 2011 13:57:10 +0200

aptdaemon (0.41+bzr641-0ubuntu1) natty; urgency=low

  * debian/lintian-nonfatal.tag.Ubuntu:
    - relax checks more (LP: #756649)
    - relax libc check, not valid for e.g. lsb packages
    - call cache.open() after cache.update()
    - utf8 fixes (LP: #736507)
    - lock fixes 
    - fix cdrom medium detection (LP: #755655)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 14 Apr 2011 16:31:39 +0200

aptdaemon (0.41+bzr629-0ubuntu1) natty; urgency=low

  * New bzr bugfix snapshot:
    - improve utf8 encoding handling tests
    - lp:~mvo/aptdaemon/relax-lintian-checks merged
    - improve terminal handling, LP: #741260, #693290, #741260,  
      #738056,  #742780, #743818, #744444, #746727, #747539, #753700,
      #753762, #753927, #754134, #754174, #754205, #754206, #754220
    - fix refactoring lefovers (LP: #752220)
    - don't segfault if we cannot read the status of the process holding 
      a lock (LP: #745517)
  * debian/patches/01_relax_lintian_checks.patch:
    - removed, taken upstream
  * debian/patches/02_fix_unicode_in_convert_struct.patch:
    - removed, taken usptream
  * debian/patches/04_import_logging.patch:
    - removed, fixed usptream

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 12 Apr 2011 13:25:49 +0200

aptdaemon (0.41+bzr614-0ubuntu3) natty; urgency=low

  * debian/patches/04_import_logging.patch:
    - Import logging to resolve undefined name. (LP: #752220)

 -- Barry Warsaw <barry@ubuntu.com>  Fri, 08 Apr 2011 18:36:22 -0400

aptdaemon (0.41+bzr614-0ubuntu2) natty; urgency=low

  * debian/patches/02_fix_unicode_in_convert_struct.patch:
    - Decode non-unicode strings in _convert_struct (LP: #736507)
  * debian/patches/03_do_not_close_invalid_fd.patch:
    - Do not close invalid streams (LP: #741370)

 -- Julian Andres Klode <juliank@ubuntu.com>  Thu, 07 Apr 2011 10:02:21 +0200

aptdaemon (0.41+bzr614-0ubuntu1) natty; urgency=low

  * New bzr bugfix snapshot:
    - fix i18n crash (LP: #724735)
    - Allow to specify package names with an architecture 
      (for multiarch)
    - Client: Exit the transaction processing if there has been an 
      error
    - Make the run method of the GTK2 progress dialog deferable
      (LP: #626798)
  * debian/patches/01_relax_lintian_checks.patch:
    - add lp:~mvo/aptdaemon/relax-lintian-checks as distro patch
      until upstream (LP: #712377)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 05 Apr 2011 16:31:37 +0200

aptdaemon (0.41+bzr604-0ubuntu1) natty; urgency=low

  * New bzr bugfix snapshot:
    - fix fix typo (LP: #733732), thanks to seb128
    - Fix variable name in the Finished signal
    - Don't raise an error if trying to close an already closed fd
    - Open the controlling terminal already at the SetTerminal call time
    - bugfix in the apt config parser
  * debian/patches/disable_config_parser_test.patch:
    - removed, this is properly fixed now

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 23 Mar 2011 15:44:07 +0100

aptdaemon (0.41+bzr597-0ubuntu1) natty; urgency=low

  * New upstream bzr snapshot:
    - data/org.debian.apt.policy.in: Drop gettext domain field, it will be
      added during package build. (LP #690270 upstream task)
  * debian/control, debian/rules: Build with dh_translations. (LP: #690270)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 17 Mar 2011 12:30:25 +0100

aptdaemon (0.41+bzr595-0ubuntu1) natty; urgency=low

  * New upstream bzr snapshot:
    - fix installing local debs (LP: #702217)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 08 Mar 2011 08:52:55 +0100

aptdaemon (0.41+bzr594-0ubuntu1) natty; urgency=low

  * New upstream bzr snapshot:
    - Show details about broken dependencies
    - Call waitpid after reading the output from lintian to avoid interrupted
      system calls on systems under heavy load
    - aptdaemon/worker.py, tests/test_client.py: fix crash in
      enable_distro_component and add test, update docstring (and fix
      docstring for remove_vendor_key along the way)
    - aptdaemon/worker.py, tests/test_client.py: fix crash in
      client.add_repository(), add test for client.add_repository(), refactor
      test for enable_component() to make it more generic
    - gtk3widgets.py: Fix require_version usage.
  * debian/control: Add appropriate python-gobject dependency to
    python-aptdaemon.gtk3widgets, to ensure availability of PyGI.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 03 Mar 2011 17:31:24 +0100

aptdaemon (0.41+bzr586-0ubuntu2) natty; urgency=low

  * debian/control: Add proper Conflicts:/Replaces: to avoid file overwrite
    error on upgrades. (LP: #724683)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 25 Feb 2011 09:29:02 +0100

aptdaemon (0.41+bzr586-0ubuntu1) natty; urgency=low

  * new bzr snapshot that contains a security fix for 
    LP: #722228
  * support for set-candidate-release added
  * debian/control:
    - remove python-{unittest2,mock} from the build-depends
    - build for python >= 2.7
  * disable testsuite during build time until the MIR for
    python-{unittest2,mock} are done

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 22 Feb 2011 16:18:34 +0100

aptdaemon (0.41+bzr582-0ubuntu1) natty; urgency=low

  [ Sebastian Heinlein ]
  * New upstream version:
    - Strictly use the specified D-Bus types in signal and return values
      allowing to write non-Python bindings
    - New GTK3 client widgets (thanks to Martin Pitt)
    - Greatly enhanced test suite by moving to unittest2, allowing to perform
      package operations in a chroot and running tests on a local session
      dbus: "dbus-launch unit2 discover"
    - Improved error reporting
    - Improved open progress (Thanks to Michael Vogt)
    - Run lintian as the user who initiated the transaction
    - Several bug fixes (fixes LP: #707490, LP: #712838)

  * debian/control:
    - Add python-aptdaemon.gtkwidgets and python-aptdaemon.gtk3widgets
      instead of a shared python-aptdaemon-gtk to follow the package 
      naming of the Python policy. Python-aptdaemon-gtk is kept as
      a transitional dummy package
    - Add a new aptdaemon-data package which provides common files
      (e.g. icons) for the client modules
    - aptdaemon recommends lintian to test local packages before
      installing
    - Add build dependencies on python-apt, python-gobject, python-defer,
      python-software-properties, python-dbus, python-debian,
      python-mock, dbus-x11 and python-unittest2 to run unittests at build
      time
    - Add missing dependency on python-dbus and python-debian to
      python-aptdaemon
    - Add a new package python-aptdaemon.test package which provides
      the infrastructure to write unittests for aptdaemon clients
    - Raise Python minimum version to 2.6

  * debian/patches:
    - Remove 09_fix_index_race_659438 - merged upstream
    - Remove 00upstream_gtk3_fixes - merged upstream
    - Remove 05_sources_list_password - merged upstream
    - Add disable_config_parser_test.patch: The test fails on the build
      system. Needs some more investigation. So temporarily disabled.

  * debian/rules:
    - Run the test suite at package build time by overriding dh_auto_test

  * debian/python-aptdaemon.test.(install|examples):
    - Ship the aptdaemon.test module, the silly packages repo, the dpkg
      wrapper and the fake PolicyKit daemon

  * debian/python-aptdaemon.gtk(3)widgets.(install|example):
    - Ship the corresponding Python module and example client

  * debian/aptdaemon-data.install:
    - Ship the icons
  
  [ Michael Vogt ]
  * debian/control:
    - add missing Replaces
 
 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 09 Feb 2011 10:33:15 +0100

aptdaemon (0.40+bzr541-0ubuntu2) natty; urgency=low

  * Add 00upstream_gtk3_fixes.patch: Adjust gtk3widgets.py to work with
    current pygobject/gtk. Taken from upstream branch r563.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 28 Jan 2011 15:45:29 +0100

aptdaemon (0.40+bzr541-0ubuntu1) natty; urgency=low

  * New upstream bzr snapshot:
    - gtk3widgets.py: Put back AptTerminal class, now that vte has a GTK3 GIR
    - gtk3widgets.py: Make work with GTK2, too
    - gtk3widgets.py: When using GTK 2, import the correct Vte GIR version
    - Documentation fixes.
  * debian/control: Add alternative gir-* dependencies.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 10 Jan 2011 21:11:13 -0600

aptdaemon (0.40+bzr529-0ubuntu3) natty; urgency=low

  [ Sebastian Heinlein ]
  * debian/patches/09_fix_index_race_659438.patch:
    - If the background cron job rebuilds the apt indexes the
      apt.Cache.required_download method fails, since it tries to access
      the not available indexes. This patch is a workaround since it
      is requires a lock on the indexes before caluclating the size
      (LP: #659438)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 03 Jan 2011 12:26:48 +0100

aptdaemon (0.40+bzr529-0ubuntu2) natty; urgency=low

  * No-change rebuild to prefer python2.7.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 22 Dec 2010 09:33:29 +0100
  
aptdaemon (0.40+bzr529-0ubuntu1) natty; urgency=low

  * new bzr snapshot:
    - fixes crash when there is no aptdaemon translation for the
      language in use is available

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 07 Dec 2010 14:04:23 +0100

aptdaemon (0.40+bzr527-0ubuntu1) natty; urgency=low

  * New upstream release 0.40. This involves some API changes, so please test
    and adapt your programs. See NEWS for details.
  * Upgrade to current upstream bzr head, which adds a gtk3widgets module
    which uses GTK 3.0 and pygobject (with introspection). gtk3-demo.py is a
    corresponding port of gtk-demo.py.
  * 05_sources_list_password.patch: Unfuzz.
  * Drop 07_fix-race-597017.patch, upstream now.
  * Drop 08_fix_deb_install.patch, fixed differently upstream.
  * debian/python-aptdaemon.install: Drop defer.py, it's now a separate
    project. Add dependency to python-defer in debian/control.
  * debian/python-aptdaemon.install: Install the new modules from upstream.
  * debian/python-aptdaemon-gtk.install, debian/python-aptdaemon-gtk.examples:
    Install the gtk3 variants of the module and example script.
  * debian/control: Update Vcs-Bzr: to natty branch.
  * debian/rules: Switch from pycentral to dh_python2. Drop python-central
    build dependency.
  * debian/control: Bump Standards-Version to 3.9.1 (no changes necessary).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 07 Dec 2010 11:44:07 +0100

aptdaemon (0.33-0ubuntu1) natty; urgency=low

  * new upstream release
  * debian/patches/06_rosetta_po_update.patch:
    - removed, upstream has up-to-date translations

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 20 Oct 2010 09:40:01 +0200

aptdaemon (0.31+bzr506-0ubuntu3) maverick-proposed; urgency=low

  * debian/patches/08_fix_deb_install.patch:
    - fix installing deb packages with odd/broken installed-size
      fields (LP: #656633)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 19 Oct 2010 16:52:13 +0200

aptdaemon (0.31+bzr506-0ubuntu2) maverick; urgency=low

  * 07_fix-race-597017.patch:
    - fix race in locking by backporting the relevant bits from
      lp:aptdaemon/trunk (thanks to Sebastian Heinlein)
      (LP: #597017)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 05 Oct 2010 18:04:52 +0200

aptdaemon (0.31+bzr506-0ubuntu1) maverick; urgency=low

  * fix incorrect error message on failed key adding
  * fix crash when sys.stdin.encoding returns None
  * fix gettext string (thanks Gabor)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 27 Sep 2010 22:55:21 +0200

aptdaemon (0.31+bzr503-0ubuntu1) maverick; urgency=low

  * merge fixes from bzr:
    - allow purge of removed files with conffiles left
    - fix bug when deferable is called with sync=True
    - use wait=False in enable_distro component
    - Fix local dpkg installation from unicode pathes by 
      converting the strings to UTF-8
    - fix potential exception in wait=True, defer=True calls

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 16 Sep 2010 09:11:50 +0200

aptdaemon (0.31+bzr496-0ubuntu1) maverick; urgency=low

  * merge fixes from bzr:
    - fix for aptdaemon.client.get_transaction()
    - autodetect if "defer" is needed

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 10 Sep 2010 10:23:34 +0200

aptdaemon (0.31+bzr493-0ubuntu1) maverick; urgency=low

  * new bzr snapshot:
    - makes 03_auth_me_less.patch no longer needed (applied upstream)
    - improvements to the policykit privs
  
 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 09 Sep 2010 17:25:30 +0200

aptdaemon (0.31+bzr488-0ubuntu1) maverick; urgency=low

  * new bzr snapshot:
    - makes 07_i18n_fixes.patch no longer needed (applied upstream)
    - supports partial cache update (important fix for the buy-something
      use case)
    - fix missing (untranslated) role strings
  * debian/control:
    - depend on the right python-apt version

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 09 Sep 2010 11:39:45 +0200

aptdaemon (0.31+bzr487-0ubuntu1) maverick; urgency=low

  * new bzr snapshot:
    -  makes 07_i18n_fixes.patch no longer needed (applied upstream)
    - supports partial cache update (important fix for the buy-something
      use case)
    - fix missing (untranslated) role strings
  * debian/control:
    - depend on the right python-apt version

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 09 Sep 2010 17:10:24 +0200

aptdaemon (0.31+bzr476-0ubuntu2) maverick; urgency=low

  * debian/patches/07_i18n_fixes.patch: 
    - use dgettext to not clobber the clients gettext.textdomain
      on import (LP: #631675)
  * debian/patches/05_sources_list_password.patch: 
    - when adding a sources.list entry with a password protect
      the file via mode 0640 and root.admin ownership

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 08 Sep 2010 09:38:31 +0200

aptdaemon (0.31+bzr476-0ubuntu1) maverick; urgency=low

  * new bzr snapshot that fixes missing i18n in the policykit
    descriptions (LP: #625409)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 31 Aug 2010 22:27:29 +0200

aptdaemon (0.31+bzr474-0ubuntu1) maverick; urgency=low

  * new bzr snapshot that fixes some locking issues (LP: #616470)
  * debian/python-aptdaemon.install:
    - add lock.py to the installed files

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 25 Aug 2010 16:50:28 +0200

aptdaemon (0.31+bzr468-0ubuntu1) maverick; urgency=low

  * new bzr snapshot that fixes authentication timeout problem
    (LP: #623424), big thanks to Sebastian Heinlein

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 24 Aug 2010 20:49:32 +0200

aptdaemon (0.31+bzr466-0ubuntu1) maverick; urgency=low

  * .bzr-builddeb/default.conf:
    - switch to lp:~aptdaemon-developers/aptdaemon/0.3
  * new bzr snapshot from the 0.3 stable branch:
    - simplify/improved policykit priviligies

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 24 Aug 2010 09:00:36 +0200

aptdaemon (0.31+bzr449-0ubuntu2) maverick; urgency=low

  * debian/patches/06_rosetta_po_update.patch:
    - updated translations from rosetta for the policy.in
      file (LP: #445603)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 23 Aug 2010 11:10:24 +0200

aptdaemon (0.31+bzr449-0ubuntu1) maverick; urgency=low

  * new bzr snapshot that fixes two crashes

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 09 Aug 2010 14:58:42 +0200

aptdaemon (0.31+bzr447-0ubuntu1) maverick; urgency=low

  * new bzr snapshot
  * drop 01_vendor-keys-download.patch, taken upstream

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 26 Jul 2010 08:45:23 +0200

aptdaemon (0.31+bzr427-0ubuntu1) maverick; urgency=low

  * new bzr snapshot
  * debian/patches/03_auth_me_less.patch:
    - updated to include less auth for adding buy-something repos

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 12 Jul 2010 09:46:15 +0200

aptdaemon (0.31+bzr416-0ubuntu1) maverick; urgency=low

  * updated to current bzr
    - fixes STAT_FAILED vs STAT_ERROR crash
  * debian/patches/01_vendor-keys-download.patch:
    - add changes from lp:~mvo/aptdaemon/download-vendor-keys
      to support downloading repository vendor keys via https
  * debian/patches/03_auth_me_less.patch: 
    - updated to current code
  * debian/control:
    - use DH_CENTRAL=include-links

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 02 Jul 2010 10:28:33 +0200

aptdaemon (0.31+bzr413-1) unstable; urgency=low

  * Merge with Ubuntu, remaining differences:
    - debian/copyright uses DEP-5 format.
    - debian/source/format: Set to "3.0 (quilt)".
    - debian/rules: Use debhelper 7 instead of quilt
    - debian/watch: Added watch file.
    - debian/control: Reindent, Vcs, Maintainer changes.
  * debian/patches/03_auth_me_less.patch: Change patch level to 1.

 -- Julian Andres Klode <jak@debian.org>  Sun, 06 Jun 2010 14:30:27 +0200

aptdaemon (0.31+bzr412-0ubuntu1) maverick; urgency=low

  * New bzr snapshot that improves the gtk progress widget

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 31 May 2010 15:03:56 +0200

aptdaemon (0.31+bzr403-0ubuntu1) maverick; urgency=low

  * First release of the new 0.3X development branch
  * debian/patches:
    - Remove 01_enable_component: Merged upstream
    - Remove 02_fix_errback: Merged upstream
    - Remove 04_caution_is_good: Merged upstream
    - Remove 05_conffile_not_exists: Merged upstream
    - Update 03_auth_me_less: Remove cherry-picked PolicyKit enhancements
  * aptdaemon.install: Ship the man pages
  * control: Fix location of vcs

 -- Sebastian Heinlein <glatzor@ubuntu.com>  Tue, 25 May 2010 12:09:50 +0200

aptdaemon (0.11+bzr345-0ubuntu4) lucid; urgency=low

  * debian/patches/04_caution_is_good.patch
      - cherry pick fix from trunk to prevent removal of essenial
        or required packages (LP: #561018)
  * debian/patches/05_conffile_not_exists.patch:
    - Do not fail on not available files (LP: #563504)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 16 Apr 2010 22:09:03 +0200

aptdaemon (0.11+bzr345-0ubuntu3) lucid; urgency=low

  * debian/patches/03_auth_me_less.patch:
    - require only a single authentication prompt when adding
      a repository and installing immediately from it
      (thanks to Sebastian Heinlein)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 01 Apr 2010 17:34:12 +0200

aptdaemon (0.11+bzr345-0ubuntu2) lucid; urgency=low

  * debian/patches/02_fix_errback.patch:
    - fix error handling from policykit (LP: #530393)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 01 Apr 2010 08:52:21 +0200

aptdaemon (0.11+bzr345-0ubuntu1) lucid; urgency=low

  * New snapshot that fixes crashes in AddRepository and
    DpkgRecovery

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 31 Mar 2010 10:43:22 +0200

aptdaemon (0.11+bzr343-1) unstable; urgency=low

  * New upstream snapshot.
  * 01_unused_removal.patch: Drop, merged upstream.
  * debian/aptdaemon.install: Install the manpages.
  * debian/control: breaks software-center (<< 1.1.21)
  * python-apt-08api.diff: Port to new python-apt API (Closes: #572071)

 -- Julian Andres Klode <jak@debian.org>  Mon, 29 Mar 2010 13:44:55 +0200

aptdaemon (0.11+bzr342-0ubuntu2) lucid; urgency=low

  * debian/patches/01_enable_component.patch:
    - add missing EnableComponents call to fix bug when
      components are referenced but not enabled

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 30 Mar 2010 16:19:38 +0200

aptdaemon (0.11+bzr342-0ubuntu1) lucid; urgency=low

  * New snapshot release based on the stable branch
    - fixes debconf race condition (LP: #455861)
    - should fix freeze in software-center (LP: #544424)
  * .bzr-builddeb/default.conf:
    - updatd to point at the stable 0.2.x branch
  * debian/patches/01_unused_removal.patch:
    - removed, taken upstream
  * debian/patches/02_fix-455861.patch:
    - removed, taken upstream

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 26 Mar 2010 10:15:37 +0100

aptdaemon (0.11+bzr322-1) unstable; urgency=low

  * New upstream snapshot.
  * Merge debian/patches/series from Ubuntu:
    - add 01_unused_removal.patch to allow removal of no longer
      used dependencies on removal
  * debian/control: add break on software-center (from Ubuntu)
  * Update Standards-Version to 3.8.4.

 -- Julian Andres Klode <jak@debian.org>  Tue, 02 Feb 2010 16:14:55 +0100

aptdaemon (0.11+bzr322-0ubuntu2) lucid; urgency=low

  * debian/patches/02_fix-455861.patch:
    - merge patch from james_w to fix race in debconf socket
      code (many thanks) LP: #455861

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 16 Mar 2010 17:17:53 +0100

aptdaemon (0.11+bzr322-0ubuntu1) lucid; urgency=low

  * New git snapshot
  * debian/patches/series:
    - add 01_unused_removal.patch to allow removal of no longer
      used dependencies on removal

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 04 Jan 2010 12:59:14 +0100

aptdaemon (0.11+bzr319-0ubuntu1) lucid; urgency=low

  * New git snapshot
    - support generic meta-data for a transaction (LP: #493775)
    - improvements to the gtk widgets
    - bugfixes
  * debian/control:
    - add break on software-center

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 14 Dec 2009 11:33:47 +0100

aptdaemon (0.11+bzr297-0ubuntu1) lucid; urgency=low

  * New git snapshot, API improvements
  * debian/control:
    - update Vcs-Bzr branch to point to "ubuntu-lucid"
  * debian/patches/aptd-sbin.patch,
    debian/patches/aptd_http_proxy.patch:
    - removed, taken upstream

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 07 Dec 2009 18:08:28 +0100

aptdaemon (0.11-2) unstable; urgency=low

  * Add missing dependency on python-software-properties.

 -- Julian Andres Klode <jak@debian.org>  Mon, 30 Nov 2009 17:39:39 +0100

aptdaemon (0.11-1) unstable; urgency=low

  * Initial upload to Debian unstable (Closes: #558690)
  * Switch source package to 3.0 (quilt) and use debhelper 7.
  * debian/copyright: Use the DEP-5 format.
  * debian/watch: Add.
  * aptd-sbin.patch: Drop, merged upstream.

 -- Julian Andres Klode <jak@debian.org>  Sun, 29 Nov 2009 20:40:01 +0100

aptdaemon (0.10+bzr264-0ubuntu1) karmic; urgency=low

  [ Sebastian Heinlein ]
  * Import translations from Launchpad - fixes LP #445603 
  * If the cache refresh was cancelled do not show a download 
    failed error - fixes LP #440941
  
  [ Michael Vogt ]
  * fix install file to ensure the translations gets installed

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 14 Oct 2009 18:19:12 +0200

aptdaemon (0.10+bzr260-0ubuntu1) karmic; urgency=low

  [ Sebastian Heinlein ]
  * Merge fix for killing randomly user processes on hung dpkg 
    operations - fixes LP: #446534 

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 12 Oct 2009 17:20:15 +0200

aptdaemon (0.10+bzr259-0ubuntu1) karmic; urgency=low

  * debian/patches/aptd_http_proxy.patch:
    - add basic http proxy proxy support (LP: #446069)
  * dropped patches:
    - debian/patches/aptd_locking_fixes.patch
    - debian/patches/fix_syslog_crash.patch
    Both got accepted upstream (no other changes in r259)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 09 Oct 2009 10:16:49 +0200

aptdaemon (0.10+bzr258-0ubuntu1) karmic; urgency=low

  * New upstream snapshot:
    - fix hang in authentication dialog (LP: #426720)
    - don't ask for authentication twice (LP: #437094)
    - better handling for broken dependencies
  * remove mvo-branch.patch, disallow-unauthenticated-branch.diff
    both got merged upstream
  * debian/patches/fix_syslog_crash.patch:
    - fix crash if no syslogd is installed
  * aptdaemon/worker.py:
    - test lock of the apt download dir as well 

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 06 Oct 2009 09:01:10 +0200

aptdaemon (0.10+bzr242-0ubuntu3) karmic; urgency=low

  * debian/patches/mvo-branch.patch:
    - updated to include fix debconf race with multiple transactions 
      in the queue (LP: #432607)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 02 Oct 2009 14:40:47 +0200

aptdaemon (0.10+bzr242-0ubuntu2) karmic; urgency=low

  * debian/patches/mvo-branch.patch:
    - updated to include fix for gettext fiddling (LP: #438077)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 28 Sep 2009 18:54:35 +0200

aptdaemon (0.10+bzr242-0ubuntu1) karmic; urgency=low

  * aptdaemon/core.py:
    - do not fail on a not running syslog daemon (LP: #428843)
  * Include dpkg errors in the error output
  * debian/rules:
    - move to simple-patchsys (for now) to make maintaining the
      patches simpler
  * debian/patches/disallow-unauthenticated-branch.diff:
    Patch generated from lp:~mvo/aptdaemon/allow-unauthenticated
    to support controlling if unauthenticated packages are allowed
    during a transaction. Default to "not allow unauthenticated"
    (LP: #435313)
  * debian/patches/mvo-branch.patch:
    Patch generated from lp:~mvo/aptdaemon/mvo that fixes:
    - aptdaemon/worker.py: check the apt download dir lock 
      in _watch_lock to avoid possible race with apt-get LP: #437709
    - aptdaemon/progress.py: fix crash in error handling (LP: #436808)
    - aptdaemon/progress.py: fix crash in INSTALL_TIMEOUT handling 
      (LP: #430860)
    - aptdaemon/gtkwidgets.py: make the dialog resizable and add bigger 
      default size (LP: #434937)
    - aptdaemon/core.py: add _remove_from_connection_no_raise() that 
      will discard errors if the object is not exported (LP: #422585)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 28 Sep 2009 09:39:34 +0200

aptdaemon (0.10+bzr240-0ubuntu1) karmic; urgency=low

  * New upstream snapshot version:
    - Allow to cancel a running transaction in the console client 
      (LP: #424436)
    - fixes in config file handling code
    - fixes in the error handling of the daemon
    - better error reporting for dpkg failures

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 22 Sep 2009 12:07:47 +0200

aptdaemon (0.10+bzr234-0ubuntu1) karmic; urgency=low

  * New upstream snapshot version:
    - less verbose debug (LP: #432937)
    - do not send dbus signal if dbus is not available (LP: #432310)
    - bugfixes
    - conffile handling
    - fix in progress code (LP #428964)
    - improvements in the logging

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 21 Sep 2009 18:01:09 +0200

aptdaemon (0.10+bzr226-0ubuntu1) karmic; urgency=low

  * When the dpkg lock is taken, wait until its released and
    emit a appropriate status (LP: #420980)
  * setup correct TERM environment in the daemon

 -- Michael Vogt <michael.vogt@ubuntu.com>  Tue, 01 Sep 2009 18:40:25 +0200

aptdaemon (0.10+bzr223-0ubuntu1) karmic; urgency=low

  * fix bug in repository adding code when a empty components
    list is used

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 27 Aug 2009 17:02:16 +0200

aptdaemon (0.10+bzr222-0ubuntu1) karmic; urgency=low

  * fix AttributeError (LP: #403467)
  * add support for adding repositories

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 27 Aug 2009 14:46:20 +0200

aptdaemon (0.10+bzr220-0ubuntu1) karmic; urgency=low

  * new version that includes a transaction cache and
    bugfixes

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 24 Aug 2009 17:33:22 +0200

aptdaemon (0.10+bzr216-0ubuntu1) karmic; urgency=low

  [ Sebastian Heinlein ]
  * New snapshot release:
    - API change: Use a D-Bus properties interface for setting terminal, locale
      and debconf socket
    - Use a simple async programming mechanism inspired by Twisted's deferreds
    - Port to PolicyKit-1 
    - Allow to manage APT gpg keys (thanks to Olof Kindgren)
    - Fix progress calcualtion during installation
  * debian/control:
    - Replace dependency on policykit by policykit-1
  * debian/aptdaemon.install: Adapt install location of PolicyKit-1 action files
  * debian/python-aptdaemon.install: 
    - Replaced policykit.py by policykit1.py
    - Added loop.py and defer.py

  [ Stephan Peijnik ]
  * debian/control: Replaced build-dependency on python-all-dev with python.
  * debian/aptdaemon.install: Removed misc.py
  * debian/copyright: Fixed lintian warning about dh_make boilerplate.
	
 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 17 Aug 2009 08:22:13 +0200

aptdaemon (0.10+bzr208-0ubuntu1) karmic; urgency=low

  * updated to current bzr

 -- Michael Vogt <michael.vogt@ubuntu.com>  Fri, 10 Jul 2009 09:32:00 +0200

aptdaemon (0.10+bzr185-0ubuntu1) karmic; urgency=low

  * updated to current bzr
  * fixd FTBFS
  * adjust install files

 -- Michael Vogt <michael.vogt@ubuntu.com>  Mon, 06 Jul 2009 09:56:53 +0200

aptdaemon (0.10+bzr173.1-0ubuntu1) karmic; urgency=low

  * fix incorrect setup.py from a unclean build env

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 02 Jul 2009 11:09:28 +0200

aptdaemon (0.10+bzr173-0ubuntu1) karmic; urgency=low

  * Initial Release.

 -- Sebastian Heinlein <devel@glatzor.de>  Tue, 30 Jun 2009 15:06:36 +0200
